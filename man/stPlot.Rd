% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/stPlot.R
\name{stPlot}
\alias{stPlot}
\title{Create Spatial Tissue Plots for Single-Cell Spatial Transcriptomics Data}
\usage{
stPlot(
  object,
  group,
  color_list,
  point_size = 0.5,
  title = "",
  x_label = "",
  y_label = "",
  image_scale = "slice1.008um",
  alpha = 0.5,
  x_range = NULL,
  y_range = NULL,
  max = NULL,
  show_image = TRUE
)
}
\arguments{
\item{object}{A Seurat object containing spatial transcriptomics data with tissue coordinates
and image information.}

\item{group}{Character string specifying which metadata column to use for coloring spots.}

\item{color_list}{Named vector of colors where names correspond to group levels.}

\item{point_size}{Numeric value for the size of points in the plot. Default is 0.5.}

\item{title}{Character string for the plot title. Default is empty.}

\item{x_label}{Character string for x-axis label. Default is empty.}

\item{y_label}{Character string for y-axis label. Default is empty.}

\item{image_scale}{Character string specifying which image in the Seurat object to use.
This should match a name in object@images. Default is "slice1.008um".}

\item{alpha}{Numeric value between 0 and 1 for point transparency. Default is 0.5.}

\item{x_range}{Numeric vector of length 2 specifying the x-axis range to display.
If NULL, shows the entire range. Default is NULL.}

\item{y_range}{Numeric vector of length 2 specifying the y-axis range to display.
If NULL, shows the entire range. Default is NULL.}

\item{max}{Numeric value specifying the maximum coordinate value (image height).
If NULL, calculated automatically from data. Default is NULL.}

\item{show_image}{Logical indicating whether to display the background tissue image.
Default is TRUE.}
}
\value{
A ggplot object representing the spatial plot with cells/spots colored by group.
}
\description{
This function generates visualization plots for spatial transcriptomics data, displaying
cells/spots on the tissue image with coloring based on a specified grouping variable.
It supports custom coordinate ranges, image display options, and appearance customization.
}
\details{
This function visualizes spatial transcriptomics data with:
\enumerate{
\item Background tissue image (if available and show_image=TRUE)
\item Spots/cells positioned according to their spatial coordinates
\item Coloring based on the specified grouping variable
}

The coordinates are transformed to match image orientation (flipped y-axis). The function
also supports cropping to specific regions using x_range and y_range parameters.

The 'max' parameter is important for coordinate transformation and should match the image height.
Users can determine this by examining their image dimensions.
}
\examples{
# Load required packages
library(Seurat)
library(ggplot2)
library(dplyr)

# Basic usage with default parameters
p1 <- stPlot(spatial_seurat_obj,
            group = "seurat_clusters",
            color_list = c("0" = "red", "1" = "blue", "2" = "green"))

# Customize point size and transparency
p2 <- stPlot(spatial_seurat_obj,
            group = "seurat_clusters",
            color_list = c("0" = "red", "1" = "blue", "2" = "green"),
            point_size = 1.2,
            alpha = 0.8)

# Add titles and labels
p3 <- stPlot(spatial_seurat_obj,
            group = "seurat_clusters",
            color_list = c("0" = "red", "1" = "blue", "2" = "green"),
            title = "Spatial Distribution of Cell Clusters",
            x_label = "X Coordinate (μm)",
            y_label = "Y Coordinate (μm)")

# Zoom to a specific region
p4 <- stPlot(spatial_seurat_obj,
            group = "seurat_clusters",
            color_list = c("0" = "red", "1" = "blue", "2" = "green"),
            x_range = c(2000, 4000),
            y_range = c(1000, 3000))

# Specify image name and max coordinate value
p5 <- stPlot(spatial_seurat_obj,
            group = "seurat_clusters",
            color_list = c("0" = "red", "1" = "blue", "2" = "green"),
            image_scale = "tissue_hires",
            max = 10000)

# Hide background image to focus on spots
p6 <- stPlot(spatial_seurat_obj,
            group = "seurat_clusters",
            color_list = c("0" = "red", "1" = "blue", "2" = "green"),
            show_image = FALSE)

# Display the plot
print(p1)

# Save the plot with high resolution
ggsave("spatial_clusters.png", p1, width = 10, height = 8, dpi = 300)

}
